<!DOCTYPE html>
<html>
<head>
  <title>AutoCorrect + AutoComplete Demo</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    input { width: 300px; padding: 10px; }
    #suggestions { margin-top: 10px; font-size: 14px; }
  </style>
</head>
<body>
  <h2>AutoCorrect + AutoComplete</h2>
  <input type="text" id="textBox" oninput="handleInput()">
  <div id="suggestions"></div>

  <script>
    async function handleInput() {
      const text = document.getElementById("textBox").value;
      const lastWord = text.split(" ").pop();

      const [autoRes, correctRes] = await Promise.all([
        fetch(`/autocomplete?prefix=${lastWord}`),
        fetch(`/autocorrect?word=${lastWord}`)
      ]);

      const autoData = await autoRes.json();
      const correctData = await correctRes.json();

      document.getElementById("suggestions").innerHTML =
        `<b>Correction:</b> ${correctData.correction}<br>
         <b>Suggestions:</b> ${autoData.join(", ")}`;
    }
  </script>
</body>
</html>
